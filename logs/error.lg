{"level":"error","message":"Signup error role is not defined","service":"production-api","stack":"ReferenceError: role is not defined\n    at signup (file:///Users/louai/Desktop/production-api/src/controllers/auth.controller.js:22:17)\n    at Layer.handleRequest (/Users/louai/Desktop/production-api/node_modules/router/lib/layer.js:152:17)\n    at next (/Users/louai/Desktop/production-api/node_modules/router/lib/route.js:157:13)\n    at Route.dispatch (/Users/louai/Desktop/production-api/node_modules/router/lib/route.js:117:3)\n    at handle (/Users/louai/Desktop/production-api/node_modules/router/index.js:435:11)\n    at Layer.handleRequest (/Users/louai/Desktop/production-api/node_modules/router/lib/layer.js:152:17)\n    at /Users/louai/Desktop/production-api/node_modules/router/index.js:295:15\n    at processParams (/Users/louai/Desktop/production-api/node_modules/router/index.js:582:12)\n    at next (/Users/louai/Desktop/production-api/node_modules/router/index.js:291:5)\n    at Function.handle (/Users/louai/Desktop/production-api/node_modules/router/index.js:186:3)"}
{"level":"error","message":"Signup error createUser is not defined","service":"production-api","stack":"ReferenceError: createUser is not defined\n    at signup (file:///Users/louai/Desktop/production-api/src/controllers/auth.controller.js:17:22)\n    at Layer.handleRequest (/Users/louai/Desktop/production-api/node_modules/router/lib/layer.js:152:17)\n    at next (/Users/louai/Desktop/production-api/node_modules/router/lib/route.js:157:13)\n    at Route.dispatch (/Users/louai/Desktop/production-api/node_modules/router/lib/route.js:117:3)\n    at handle (/Users/louai/Desktop/production-api/node_modules/router/index.js:435:11)\n    at Layer.handleRequest (/Users/louai/Desktop/production-api/node_modules/router/lib/layer.js:152:17)\n    at /Users/louai/Desktop/production-api/node_modules/router/index.js:295:15\n    at processParams (/Users/louai/Desktop/production-api/node_modules/router/index.js:582:12)\n    at next (/Users/louai/Desktop/production-api/node_modules/router/index.js:291:5)\n    at Function.handle (/Users/louai/Desktop/production-api/node_modules/router/index.js:186:3)"}
{"level":"error","message":"Signup error role is not defined","service":"production-api","stack":"ReferenceError: role is not defined\n    at signup (file:///Users/louai/Desktop/production-api/src/controllers/auth.controller.js:19:64)\n    at Layer.handleRequest (/Users/louai/Desktop/production-api/node_modules/router/lib/layer.js:152:17)\n    at next (/Users/louai/Desktop/production-api/node_modules/router/lib/route.js:157:13)\n    at Route.dispatch (/Users/louai/Desktop/production-api/node_modules/router/lib/route.js:117:3)\n    at handle (/Users/louai/Desktop/production-api/node_modules/router/index.js:435:11)\n    at Layer.handleRequest (/Users/louai/Desktop/production-api/node_modules/router/lib/layer.js:152:17)\n    at /Users/louai/Desktop/production-api/node_modules/router/index.js:295:15\n    at processParams (/Users/louai/Desktop/production-api/node_modules/router/index.js:582:12)\n    at next (/Users/louai/Desktop/production-api/node_modules/router/index.js:291:5)\n    at Function.handle (/Users/louai/Desktop/production-api/node_modules/router/index.js:186:3)"}
{"level":"error","message":"Create user error db.select is not a function","service":"production-api","stack":"TypeError: db.select is not a function\n    at createUser (file:///Users/louai/Desktop/production-api/src/services/auth.service.js:18:33)\n    at signup (file:///Users/louai/Desktop/production-api/src/controllers/auth.controller.js:19:28)\n    at Layer.handleRequest (/Users/louai/Desktop/production-api/node_modules/router/lib/layer.js:152:17)\n    at next (/Users/louai/Desktop/production-api/node_modules/router/lib/route.js:157:13)\n    at Route.dispatch (/Users/louai/Desktop/production-api/node_modules/router/lib/route.js:117:3)\n    at handle (/Users/louai/Desktop/production-api/node_modules/router/index.js:435:11)\n    at Layer.handleRequest (/Users/louai/Desktop/production-api/node_modules/router/lib/layer.js:152:17)\n    at /Users/louai/Desktop/production-api/node_modules/router/index.js:295:15\n    at processParams (/Users/louai/Desktop/production-api/node_modules/router/index.js:582:12)\n    at next (/Users/louai/Desktop/production-api/node_modules/router/index.js:291:5)"}
{"level":"error","message":"Signup error Failed to create user","service":"production-api","stack":"Error: Failed to create user\n    at createUser (file:///Users/louai/Desktop/production-api/src/services/auth.service.js:33:15)\n    at signup (file:///Users/louai/Desktop/production-api/src/controllers/auth.controller.js:19:28)\n    at Layer.handleRequest (/Users/louai/Desktop/production-api/node_modules/router/lib/layer.js:152:17)\n    at next (/Users/louai/Desktop/production-api/node_modules/router/lib/route.js:157:13)\n    at Route.dispatch (/Users/louai/Desktop/production-api/node_modules/router/lib/route.js:117:3)\n    at handle (/Users/louai/Desktop/production-api/node_modules/router/index.js:435:11)\n    at Layer.handleRequest (/Users/louai/Desktop/production-api/node_modules/router/lib/layer.js:152:17)\n    at /Users/louai/Desktop/production-api/node_modules/router/index.js:295:15\n    at processParams (/Users/louai/Desktop/production-api/node_modules/router/index.js:582:12)\n    at next (/Users/louai/Desktop/production-api/node_modules/router/index.js:291:5)"}
{"level":"error","message":"Create user error db.select is not a function","service":"production-api","stack":"TypeError: db.select is not a function\n    at createUser (file:///Users/louai/Desktop/production-api/src/services/auth.service.js:18:39)\n    at signup (file:///Users/louai/Desktop/production-api/src/controllers/auth.controller.js:19:28)\n    at Layer.handleRequest (/Users/louai/Desktop/production-api/node_modules/router/lib/layer.js:152:17)\n    at next (/Users/louai/Desktop/production-api/node_modules/router/lib/route.js:157:13)\n    at Route.dispatch (/Users/louai/Desktop/production-api/node_modules/router/lib/route.js:117:3)\n    at handle (/Users/louai/Desktop/production-api/node_modules/router/index.js:435:11)\n    at Layer.handleRequest (/Users/louai/Desktop/production-api/node_modules/router/lib/layer.js:152:17)\n    at /Users/louai/Desktop/production-api/node_modules/router/index.js:295:15\n    at processParams (/Users/louai/Desktop/production-api/node_modules/router/index.js:582:12)\n    at next (/Users/louai/Desktop/production-api/node_modules/router/index.js:291:5)"}
{"level":"error","message":"Signup error Failed to create user","service":"production-api","stack":"Error: Failed to create user\n    at createUser (file:///Users/louai/Desktop/production-api/src/services/auth.service.js:33:15)\n    at signup (file:///Users/louai/Desktop/production-api/src/controllers/auth.controller.js:19:28)\n    at Layer.handleRequest (/Users/louai/Desktop/production-api/node_modules/router/lib/layer.js:152:17)\n    at next (/Users/louai/Desktop/production-api/node_modules/router/lib/route.js:157:13)\n    at Route.dispatch (/Users/louai/Desktop/production-api/node_modules/router/lib/route.js:117:3)\n    at handle (/Users/louai/Desktop/production-api/node_modules/router/index.js:435:11)\n    at Layer.handleRequest (/Users/louai/Desktop/production-api/node_modules/router/lib/layer.js:152:17)\n    at /Users/louai/Desktop/production-api/node_modules/router/index.js:295:15\n    at processParams (/Users/louai/Desktop/production-api/node_modules/router/index.js:582:12)\n    at next (/Users/louai/Desktop/production-api/node_modules/router/index.js:291:5)"}
{"level":"error","message":"Create user error db.select is not a function","service":"production-api","stack":"TypeError: db.select is not a function\n    at createUser (file:///Users/louai/Desktop/production-api/src/services/auth.service.js:18:39)\n    at signup (file:///Users/louai/Desktop/production-api/src/controllers/auth.controller.js:19:28)\n    at Layer.handleRequest (/Users/louai/Desktop/production-api/node_modules/router/lib/layer.js:152:17)\n    at next (/Users/louai/Desktop/production-api/node_modules/router/lib/route.js:157:13)\n    at Route.dispatch (/Users/louai/Desktop/production-api/node_modules/router/lib/route.js:117:3)\n    at handle (/Users/louai/Desktop/production-api/node_modules/router/index.js:435:11)\n    at Layer.handleRequest (/Users/louai/Desktop/production-api/node_modules/router/lib/layer.js:152:17)\n    at /Users/louai/Desktop/production-api/node_modules/router/index.js:295:15\n    at processParams (/Users/louai/Desktop/production-api/node_modules/router/index.js:582:12)\n    at next (/Users/louai/Desktop/production-api/node_modules/router/index.js:291:5)"}
{"level":"error","message":"Signup error Failed to create user","service":"production-api","stack":"Error: Failed to create user\n    at createUser (file:///Users/louai/Desktop/production-api/src/services/auth.service.js:33:15)\n    at signup (file:///Users/louai/Desktop/production-api/src/controllers/auth.controller.js:19:28)\n    at Layer.handleRequest (/Users/louai/Desktop/production-api/node_modules/router/lib/layer.js:152:17)\n    at next (/Users/louai/Desktop/production-api/node_modules/router/lib/route.js:157:13)\n    at Route.dispatch (/Users/louai/Desktop/production-api/node_modules/router/lib/route.js:117:3)\n    at handle (/Users/louai/Desktop/production-api/node_modules/router/index.js:435:11)\n    at Layer.handleRequest (/Users/louai/Desktop/production-api/node_modules/router/lib/layer.js:152:17)\n    at /Users/louai/Desktop/production-api/node_modules/router/index.js:295:15\n    at processParams (/Users/louai/Desktop/production-api/node_modules/router/index.js:582:12)\n    at next (/Users/louai/Desktop/production-api/node_modules/router/index.js:291:5)"}
{"cause":{"code":"","name":"NeonDbError","severity":""},"level":"error","message":"Create user error Failed query: select \"id\", \"name\", \"email\", \"password\", \"role\", \"created_at\", \"updated_at\" from \"users\" where \"users\".\"email\" = $1\nparams: admin@gmail.com","params":["admin@gmail.com"],"query":"select \"id\", \"name\", \"email\", \"password\", \"role\", \"created_at\", \"updated_at\" from \"users\" where \"users\".\"email\" = $1","service":"production-api","stack":"Error: Failed query: select \"id\", \"name\", \"email\", \"password\", \"role\", \"created_at\", \"updated_at\" from \"users\" where \"users\".\"email\" = $1\nparams: admin@gmail.com\n    at NeonPreparedQuery.queryWithCache (file:///Users/louai/Desktop/production-api/node_modules/drizzle-orm/pg-core/session.js:41:15)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async NeonPreparedQuery.execute (file:///Users/louai/Desktop/production-api/node_modules/drizzle-orm/neon-serverless/session.js:109:20)\n    at async createUser (file:///Users/louai/Desktop/production-api/src/services/auth.service.js:19:30)\n    at async signup (file:///Users/louai/Desktop/production-api/src/controllers/auth.controller.js:19:22)"}
{"level":"error","message":"Signup error Failed to create user","service":"production-api","stack":"Error: Failed to create user\n    at createUser (file:///Users/louai/Desktop/production-api/src/services/auth.service.js:34:15)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async signup (file:///Users/louai/Desktop/production-api/src/controllers/auth.controller.js:19:22)"}
{"level":"error","message":"Error creating the user: Error: Failed query: select \"id\", \"name\", \"email\", \"password\", \"role\", \"created_at\", \"updated_at\" from \"users\" where \"users\".\"email\" = $1 limit $2\nparams: admin@gmail.com,1","service":"production-api"}
{"cause":{"code":"","name":"NeonDbError","severity":""},"level":"error","message":"Signup error Failed query: select \"id\", \"name\", \"email\", \"password\", \"role\", \"created_at\", \"updated_at\" from \"users\" where \"users\".\"email\" = $1 limit $2\nparams: admin@gmail.com,1","params":["admin@gmail.com",1],"query":"select \"id\", \"name\", \"email\", \"password\", \"role\", \"created_at\", \"updated_at\" from \"users\" where \"users\".\"email\" = $1 limit $2","service":"production-api","stack":"Error: Failed query: select \"id\", \"name\", \"email\", \"password\", \"role\", \"created_at\", \"updated_at\" from \"users\" where \"users\".\"email\" = $1 limit $2\nparams: admin@gmail.com,1\n    at NeonPreparedQuery.queryWithCache (file:///Users/louai/Desktop/production-api/node_modules/drizzle-orm/pg-core/session.js:41:15)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async NeonPreparedQuery.execute (file:///Users/louai/Desktop/production-api/node_modules/drizzle-orm/neon-serverless/session.js:109:20)\n    at async createUser (file:///Users/louai/Desktop/production-api/src/services/auth.service.js:18:26)\n    at async signup (file:///Users/louai/Desktop/production-api/src/controllers/auth.controller.js:19:22)"}
{"level":"error","message":"Error creating the user: Error: Failed query: select \"id\", \"name\", \"email\", \"password\", \"role\", \"created_at\", \"updated_at\" from \"users\" where \"users\".\"email\" = $1 limit $2\nparams: admin@gmail.com,1","service":"production-api"}
{"cause":{"code":"","name":"NeonDbError","severity":""},"level":"error","message":"Signup error Failed query: select \"id\", \"name\", \"email\", \"password\", \"role\", \"created_at\", \"updated_at\" from \"users\" where \"users\".\"email\" = $1 limit $2\nparams: admin@gmail.com,1","params":["admin@gmail.com",1],"query":"select \"id\", \"name\", \"email\", \"password\", \"role\", \"created_at\", \"updated_at\" from \"users\" where \"users\".\"email\" = $1 limit $2","service":"production-api","stack":"Error: Failed query: select \"id\", \"name\", \"email\", \"password\", \"role\", \"created_at\", \"updated_at\" from \"users\" where \"users\".\"email\" = $1 limit $2\nparams: admin@gmail.com,1\n    at NeonPreparedQuery.queryWithCache (file:///Users/louai/Desktop/production-api/node_modules/drizzle-orm/pg-core/session.js:41:15)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async NeonPreparedQuery.execute (file:///Users/louai/Desktop/production-api/node_modules/drizzle-orm/neon-serverless/session.js:109:20)\n    at async createUser (file:///Users/louai/Desktop/production-api/src/services/auth.service.js:18:26)\n    at async signup (file:///Users/louai/Desktop/production-api/src/controllers/auth.controller.js:19:22)"}
{"level":"error","message":"Error creating the user: Error: Failed query: select \"id\", \"name\", \"email\", \"password\", \"role\", \"createdAt\", \"updatedAt\" from \"users\" where \"users\".\"email\" = $1 limit $2\nparams: admin@gmail.com,1","service":"production-api"}
{"cause":{"code":"","name":"NeonDbError","severity":""},"level":"error","message":"Signup error Failed query: select \"id\", \"name\", \"email\", \"password\", \"role\", \"createdAt\", \"updatedAt\" from \"users\" where \"users\".\"email\" = $1 limit $2\nparams: admin@gmail.com,1","params":["admin@gmail.com",1],"query":"select \"id\", \"name\", \"email\", \"password\", \"role\", \"createdAt\", \"updatedAt\" from \"users\" where \"users\".\"email\" = $1 limit $2","service":"production-api","stack":"Error: Failed query: select \"id\", \"name\", \"email\", \"password\", \"role\", \"createdAt\", \"updatedAt\" from \"users\" where \"users\".\"email\" = $1 limit $2\nparams: admin@gmail.com,1\n    at NeonPreparedQuery.queryWithCache (file:///Users/louai/Desktop/production-api/node_modules/drizzle-orm/pg-core/session.js:41:15)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async NeonPreparedQuery.execute (file:///Users/louai/Desktop/production-api/node_modules/drizzle-orm/neon-serverless/session.js:109:20)\n    at async createUser (file:///Users/louai/Desktop/production-api/src/services/auth.service.js:18:26)\n    at async signup (file:///Users/louai/Desktop/production-api/src/controllers/auth.controller.js:19:22)"}
{"level":"error","message":"Error creating the user: Error: Failed query: select \"id\", \"name\", \"email\", \"password\", \"role\", \"createdAt\", \"updatedAt\" from \"users\" where \"users\".\"email\" = $1 limit $2\nparams: admin@gmail.com,1","service":"production-api"}
{"cause":{"code":"","name":"NeonDbError","severity":""},"level":"error","message":"Signup error Failed query: select \"id\", \"name\", \"email\", \"password\", \"role\", \"createdAt\", \"updatedAt\" from \"users\" where \"users\".\"email\" = $1 limit $2\nparams: admin@gmail.com,1","params":["admin@gmail.com",1],"query":"select \"id\", \"name\", \"email\", \"password\", \"role\", \"createdAt\", \"updatedAt\" from \"users\" where \"users\".\"email\" = $1 limit $2","service":"production-api","stack":"Error: Failed query: select \"id\", \"name\", \"email\", \"password\", \"role\", \"createdAt\", \"updatedAt\" from \"users\" where \"users\".\"email\" = $1 limit $2\nparams: admin@gmail.com,1\n    at NeonPreparedQuery.queryWithCache (file:///Users/louai/Desktop/production-api/node_modules/drizzle-orm/pg-core/session.js:41:15)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async NeonPreparedQuery.execute (file:///Users/louai/Desktop/production-api/node_modules/drizzle-orm/neon-serverless/session.js:109:20)\n    at async createUser (file:///Users/louai/Desktop/production-api/src/services/auth.service.js:18:26)\n    at async signup (file:///Users/louai/Desktop/production-api/src/controllers/auth.controller.js:19:22)"}
{"level":"error","message":"Error creating the user: Error: Failed query: select \"id\", \"name\", \"email\", \"password\", \"role\", \"created_at\", \"updated_at\" from \"users\" where \"users\".\"email\" = $1 limit $2\nparams: admin@gmail.com,1","service":"production-api"}
{"cause":{"code":"","name":"NeonDbError","severity":""},"level":"error","message":"Signup error Failed query: select \"id\", \"name\", \"email\", \"password\", \"role\", \"created_at\", \"updated_at\" from \"users\" where \"users\".\"email\" = $1 limit $2\nparams: admin@gmail.com,1","params":["admin@gmail.com",1],"query":"select \"id\", \"name\", \"email\", \"password\", \"role\", \"created_at\", \"updated_at\" from \"users\" where \"users\".\"email\" = $1 limit $2","service":"production-api","stack":"Error: Failed query: select \"id\", \"name\", \"email\", \"password\", \"role\", \"created_at\", \"updated_at\" from \"users\" where \"users\".\"email\" = $1 limit $2\nparams: admin@gmail.com,1\n    at NeonPreparedQuery.queryWithCache (file:///Users/louai/Desktop/production-api/node_modules/drizzle-orm/pg-core/session.js:41:15)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async NeonPreparedQuery.execute (file:///Users/louai/Desktop/production-api/node_modules/drizzle-orm/neon-serverless/session.js:109:20)\n    at async createUser (file:///Users/louai/Desktop/production-api/src/services/auth.service.js:18:26)\n    at async signup (file:///Users/louai/Desktop/production-api/src/controllers/auth.controller.js:19:22)"}
{"level":"error","message":"Error creating the user: Error: Failed query: select \"id\", \"name\", \"email\", \"password\", \"role\", \"created_at\", \"updated_at\" from \"users\" where \"users\".\"email\" = $1 limit $2\nparams: admin@gmail.com,1","service":"production-api"}
{"cause":{"code":"","name":"NeonDbError","severity":""},"level":"error","message":"Signup error Failed query: select \"id\", \"name\", \"email\", \"password\", \"role\", \"created_at\", \"updated_at\" from \"users\" where \"users\".\"email\" = $1 limit $2\nparams: admin@gmail.com,1","params":["admin@gmail.com",1],"query":"select \"id\", \"name\", \"email\", \"password\", \"role\", \"created_at\", \"updated_at\" from \"users\" where \"users\".\"email\" = $1 limit $2","service":"production-api","stack":"Error: Failed query: select \"id\", \"name\", \"email\", \"password\", \"role\", \"created_at\", \"updated_at\" from \"users\" where \"users\".\"email\" = $1 limit $2\nparams: admin@gmail.com,1\n    at NeonPreparedQuery.queryWithCache (file:///Users/louai/Desktop/production-api/node_modules/drizzle-orm/pg-core/session.js:41:15)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async NeonPreparedQuery.execute (file:///Users/louai/Desktop/production-api/node_modules/drizzle-orm/neon-serverless/session.js:109:20)\n    at async createUser (file:///Users/louai/Desktop/production-api/src/services/auth.service.js:18:26)\n    at async signup (file:///Users/louai/Desktop/production-api/src/controllers/auth.controller.js:19:22)"}
{"level":"error","message":"Error creating the user: Error: Failed query: select \"id\", \"name\", \"email\", \"password\", \"role\", \"created_at\", \"updated_at\" from \"users\" where \"users\".\"email\" = $1 limit $2\nparams: admin@gmail.com,1","service":"production-api"}
{"cause":{"code":"","name":"NeonDbError","severity":""},"level":"error","message":"Signup error Failed query: select \"id\", \"name\", \"email\", \"password\", \"role\", \"created_at\", \"updated_at\" from \"users\" where \"users\".\"email\" = $1 limit $2\nparams: admin@gmail.com,1","params":["admin@gmail.com",1],"query":"select \"id\", \"name\", \"email\", \"password\", \"role\", \"created_at\", \"updated_at\" from \"users\" where \"users\".\"email\" = $1 limit $2","service":"production-api","stack":"Error: Failed query: select \"id\", \"name\", \"email\", \"password\", \"role\", \"created_at\", \"updated_at\" from \"users\" where \"users\".\"email\" = $1 limit $2\nparams: admin@gmail.com,1\n    at NeonPreparedQuery.queryWithCache (file:///Users/louai/Desktop/production-api/node_modules/drizzle-orm/pg-core/session.js:41:15)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async NeonPreparedQuery.execute (file:///Users/louai/Desktop/production-api/node_modules/drizzle-orm/neon-serverless/session.js:109:20)\n    at async createUser (file:///Users/louai/Desktop/production-api/src/services/auth.service.js:18:26)\n    at async signup (file:///Users/louai/Desktop/production-api/src/controllers/auth.controller.js:19:22)"}
{"level":"error","message":"Error creating the user: Error: Failed query: select \"id\", \"name\", \"email\", \"password\", \"role\", \"created_at\", \"updated_at\" from \"users\" where \"users\".\"email\" = $1 limit $2\nparams: louai@gmail.com,1","service":"production-api"}
{"cause":{"code":"","name":"NeonDbError","severity":""},"level":"error","message":"Signup error Failed query: select \"id\", \"name\", \"email\", \"password\", \"role\", \"created_at\", \"updated_at\" from \"users\" where \"users\".\"email\" = $1 limit $2\nparams: louai@gmail.com,1","params":["louai@gmail.com",1],"query":"select \"id\", \"name\", \"email\", \"password\", \"role\", \"created_at\", \"updated_at\" from \"users\" where \"users\".\"email\" = $1 limit $2","service":"production-api","stack":"Error: Failed query: select \"id\", \"name\", \"email\", \"password\", \"role\", \"created_at\", \"updated_at\" from \"users\" where \"users\".\"email\" = $1 limit $2\nparams: louai@gmail.com,1\n    at NeonPreparedQuery.queryWithCache (file:///Users/louai/Desktop/production-api/node_modules/drizzle-orm/pg-core/session.js:41:15)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async NeonPreparedQuery.execute (file:///Users/louai/Desktop/production-api/node_modules/drizzle-orm/neon-serverless/session.js:109:20)\n    at async createUser (file:///Users/louai/Desktop/production-api/src/services/auth.service.js:18:26)\n    at async signup (file:///Users/louai/Desktop/production-api/src/controllers/auth.controller.js:19:22)"}
{"level":"error","message":"Error creating the user: Error: Failed query: select \"id\", \"name\", \"email\", \"password\", \"role\", \"created_at\", \"updated_at\" from \"users\" where \"users\".\"email\" = $1 limit $2\nparams: louai@gmail.com,1","service":"production-api"}
{"cause":{"code":"","name":"NeonDbError","severity":""},"level":"error","message":"Signup error Failed query: select \"id\", \"name\", \"email\", \"password\", \"role\", \"created_at\", \"updated_at\" from \"users\" where \"users\".\"email\" = $1 limit $2\nparams: louai@gmail.com,1","params":["louai@gmail.com",1],"query":"select \"id\", \"name\", \"email\", \"password\", \"role\", \"created_at\", \"updated_at\" from \"users\" where \"users\".\"email\" = $1 limit $2","service":"production-api","stack":"Error: Failed query: select \"id\", \"name\", \"email\", \"password\", \"role\", \"created_at\", \"updated_at\" from \"users\" where \"users\".\"email\" = $1 limit $2\nparams: louai@gmail.com,1\n    at NeonPreparedQuery.queryWithCache (file:///Users/louai/Desktop/production-api/node_modules/drizzle-orm/pg-core/session.js:41:15)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async NeonPreparedQuery.execute (file:///Users/louai/Desktop/production-api/node_modules/drizzle-orm/neon-serverless/session.js:109:20)\n    at async createUser (file:///Users/louai/Desktop/production-api/src/services/auth.service.js:18:26)\n    at async signup (file:///Users/louai/Desktop/production-api/src/controllers/auth.controller.js:19:22)"}
{"level":"error","message":"Error creating the user: Error: Failed query: select \"id\", \"name\", \"email\", \"password\", \"role\", \"created_at\", \"updated_at\" from \"users\" where \"users\".\"email\" = $1 limit $2\nparams: louai@gmail.com,1","service":"production-api"}
{"cause":{"code":"","name":"NeonDbError","severity":""},"level":"error","message":"Signup error Failed query: select \"id\", \"name\", \"email\", \"password\", \"role\", \"created_at\", \"updated_at\" from \"users\" where \"users\".\"email\" = $1 limit $2\nparams: louai@gmail.com,1","params":["louai@gmail.com",1],"query":"select \"id\", \"name\", \"email\", \"password\", \"role\", \"created_at\", \"updated_at\" from \"users\" where \"users\".\"email\" = $1 limit $2","service":"production-api","stack":"Error: Failed query: select \"id\", \"name\", \"email\", \"password\", \"role\", \"created_at\", \"updated_at\" from \"users\" where \"users\".\"email\" = $1 limit $2\nparams: louai@gmail.com,1\n    at NeonPreparedQuery.queryWithCache (file:///Users/louai/Desktop/production-api/node_modules/drizzle-orm/pg-core/session.js:41:15)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async NeonPreparedQuery.execute (file:///Users/louai/Desktop/production-api/node_modules/drizzle-orm/neon-serverless/session.js:109:20)\n    at async createUser (file:///Users/louai/Desktop/production-api/src/services/auth.service.js:18:26)\n    at async signup (file:///Users/louai/Desktop/production-api/src/controllers/auth.controller.js:18:18)"}
{"level":"error","message":"Error creating the user: TypeError: db.select(...).from(...).where(...).limit(...).all is not a function","service":"production-api"}
{"level":"error","message":"Signup error db.select(...).from(...).where(...).limit(...).all is not a function","service":"production-api","stack":"TypeError: db.select(...).from(...).where(...).limit(...).all is not a function\n    at createUser (file:///Users/louai/Desktop/production-api/src/services/auth.service.js:24:8)\n    at signup (file:///Users/louai/Desktop/production-api/src/controllers/auth.controller.js:18:24)\n    at Layer.handleRequest (/Users/louai/Desktop/production-api/node_modules/router/lib/layer.js:152:17)\n    at next (/Users/louai/Desktop/production-api/node_modules/router/lib/route.js:157:13)\n    at Route.dispatch (/Users/louai/Desktop/production-api/node_modules/router/lib/route.js:117:3)\n    at handle (/Users/louai/Desktop/production-api/node_modules/router/index.js:435:11)\n    at Layer.handleRequest (/Users/louai/Desktop/production-api/node_modules/router/lib/layer.js:152:17)\n    at /Users/louai/Desktop/production-api/node_modules/router/index.js:295:15\n    at processParams (/Users/louai/Desktop/production-api/node_modules/router/index.js:582:12)\n    at next (/Users/louai/Desktop/production-api/node_modules/router/index.js:291:5)"}
{"level":"error","message":"Error creating the user: Error: Failed query: select \"id\", \"name\", \"email\", \"password\", \"role\", \"created_at\", \"updated_at\" from \"users\" where \"users\".\"email\" = $1 limit $2\nparams: louai@gmail.com,1","service":"production-api"}
{"cause":{"code":"","name":"NeonDbError","severity":""},"level":"error","message":"Signup error Failed query: select \"id\", \"name\", \"email\", \"password\", \"role\", \"created_at\", \"updated_at\" from \"users\" where \"users\".\"email\" = $1 limit $2\nparams: louai@gmail.com,1","params":["louai@gmail.com",1],"query":"select \"id\", \"name\", \"email\", \"password\", \"role\", \"created_at\", \"updated_at\" from \"users\" where \"users\".\"email\" = $1 limit $2","service":"production-api","stack":"Error: Failed query: select \"id\", \"name\", \"email\", \"password\", \"role\", \"created_at\", \"updated_at\" from \"users\" where \"users\".\"email\" = $1 limit $2\nparams: louai@gmail.com,1\n    at NeonPreparedQuery.queryWithCache (file:///Users/louai/Desktop/production-api/node_modules/drizzle-orm/pg-core/session.js:41:15)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async NeonPreparedQuery.execute (file:///Users/louai/Desktop/production-api/node_modules/drizzle-orm/neon-serverless/session.js:109:20)\n    at async createUser (file:///Users/louai/Desktop/production-api/src/services/auth.service.js:19:26)\n    at async signup (file:///Users/louai/Desktop/production-api/src/controllers/auth.controller.js:18:18)"}
